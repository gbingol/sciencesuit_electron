<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>Package Manager</title>
	<style>
		table, tr{
			border: 1px solid;
			border-collapse: collapse;
		}

		td{
			padding-top: 6px;
			padding-bottom: 6px;
			border: 1px solid;
		}

		tr:first-child{
			font-weight: bold;
		}

		tr:nth-child(2n+2){
			background-color: antiquewhite;
		}

		tr:nth-child(2n+1){
			background-color: blanchedalmond;
		}
	</style>
</head>


<body>
<h1>Python Packages</h1>

<p><a href="index.html">Main Screen</a></p>


<button id="btnInstalledModules">Installed Modules</button>


<div id="modules"></div>
<div id="pipoutput"></div>


<script>
	const btn = document.getElementById('btnInstalledModules');
	btn.addEventListener("click", (evt) => 
	{
		window.electron.runpy((error, output) => 
		{
			let s ="<table><tr><td>Name</td><td colspan=2>Location</td></tr>"
			if (error) 
			{
				console.error('Error:', error);
			} else 
			{
				let jsonData = JSON.parse(output);

				for (let i = 0; i <jsonData.length; i++) 
				{
					let e = jsonData[i];
					s += "<tr> \n";
					s += "<td>" + e.names + "</td>";
					s += "<td>" + e.locs + "</td>";
					s += "<td>" + "<button class='pipinfo'>Info</button>" + "</td>"
					s += "</tr>";	
				}

				s += "</table>";
				let prg = document.getElementById("modules");
				prg.innerHTML=s;
			}
		}, "py/listmodules.py");
	});
</script>

</body>
</html>